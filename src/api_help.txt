MOULArs Internal API Help

The following endpoints are available:
  /
  /account [a]
  /account/api_tokens [a]
  /account/new [a]
  /account/update [a]
  /client_keys
  /initialize
  /online
  /shutdown [a]
  /status

Key:
  a = Requires authentication via an API token

Authentication:
  Authenticated APIs can be accessed by passing an API token in the request URI
  as a query parameter (e.g. /shutdown?token=<TOKEN>), or in a request header
  (e.g. "Authorization: Bearer <TOKEN>").

  When using curl, this can be set with the -H option:
    curl -H "Authorization: Bearer <TOKEN>" http://localhost:14615/shutdown


API Endpoints:

GET /
  Returns this help message.

GET /account[?account=<UUID>]
  Returns a JSON object containing the account details for the specified
  account.  If account is not specified, the account associated with the
  authorization API token is used.  Only ADMIN accounts can view details for
  other accounts.

  Example:
    curl -H "Authorization: Bearer <API_TOKEN>" http://localhost:14615/account
    {"username":"Test Account","account_id":"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX","account_flags":["admin","beta"]}

GET /account/api_tokens[?account=<UUID>]
  Returns a JSON object containing the API tokens associated with the account.
  If account is not specified, the account associated with the authorization
  API token is used.  Only ADMIN accounts can view API keys for other accounts.

  Example:
    curl -H "Authorization: Bearer <API_TOKEN>" http://localhost:14615/api_tokens
    [{"token":"XXXX","comment":"Test Token"}]

POST /account/new
  Body: JSON object containing the username and password for the new account.

  Creates a new account with the specified parameters.  Returns a JSON object
  containing the Account UUID for the newly created account, if successful.
  If an account with the requested username already exists, this returns a
  409 Conflict error.

  If this endpoint is called with an ADMIN API token, an optional "account_flags"
  object can also be included in the request object.  This should be an array
  containing one or more of the following flag strings:
    "admin"  The account will be given administrative privileges.
    "banned" The account will be prevented from logging in.
    "beta"   The account will be given "beta tester" status, and can log in
             even when login restrictions are in enabled.

  Example:
    curl -X POST -H "Content-Type: application/json" \
         -d '{"username":"Test Account","password":"TestPa55word"}' \
         http://localhost:14615/account/new
    {"status":"ok","account_id":"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"}

POST /account/update[?account=<UUID>]
  Body: JSON object containing fields to update for the account.  See
  /account/new for a description of valid fields.  Note that account usernames
  and UUIDs cannot be changed via this API.

  Only ADMIN accounts can modify other accounts or set account flags.
  To remove an account flag, prefix it with "!" (e.g. {"account_flags":["!admin"]})

  Examples:
    curl -X POST -H "Authorization: Bearer <API_TOKEN>" \
         -H "Content-Type: application/json" \
         -d '{"password":"NewPa55word"}' \
         http://localhost:14615/account/update
    {"status":"ok"}

    curl -X POST -H "Authorization: Bearer <ADMIN_API_TOKEN>" \
         -H "Content-Type: application/json" \
         -d '{"account_flags":["admin","!beta"]}' \
         http://localhost:14615/account/update?account=<ACCOUNT_UUID>
    {"status":"ok"}

GET /client_keys
  Returns the public encryption keys for use by clients, in server.ini format.

GET /initialize
  Creates an administrative account for managing the server.  Returns a JSON
  object containing the default username, account ID, and API key for the
  new account.  The password for the account will be randomly generated but
  will not be printed or returned.  If you wish to use a password with the
  account, you will need to set a new one explicitly with the /account/update
  endpoint.

  NOTE: This can only be called if there are no accounts present in the
  database (even disabled/banned).  Be sure to save the API key somewhere safe!

  Example:
     curl http://localhost:14615/initialize
     {"username":"MoularsAdmin","account_id":"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX","api_token":"TOKEN_STRING"}

GET /online
  Returns a JSON object containing the names and locations of online players.

  Example:
    curl http://localhost:14615/online
    [{"name":"Test Player","location":"Test Player's Relto"}]

POST /shutdown
  Shuts down the server gracefully.  Only ADMIN accounts can use this endpoint.

  Example:
    curl -X POST -H "Authorization: Bearer <ADMIN_API_TOKEN>" http://localhost:14615/shutdown
    {"status":"ok"}

GET /status
  Returns "OK" if the API service is running.
